	<!DOCTYPE html>
	<html xmlns:th="http://www.thymeleaf.org"
	      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	      layout:decorate="~{enter/layout/enterLayoutOsstList}">
	<head>
	    <meta name="description" content="한국스마트정보교육원 팀프로젝트" />
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>외주 진행 현황</title>
	    
	    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	    <link rel="stylesheet" th:href="@{/enter/assets/css/enterOutsourcingStatus.css}">
	</head>
	
	<body>
		<div layout:fragment="contents">
	        <!-- Main Content -->
	        <main class="SR_flex-grow">
	            <!-- 1. 레이블: [외주명] 진행 현황 (박스 바깥) -->
	            <div class="SR_label-container">
	                   <div class="SR_blue-bar"></div>
	                <h2 class="SR_text-3xl SR_font-bold SR_text-gray-800" 
	                	th:text="${'[' + EnterOsstDetail.osstDetailTitle + '] 진행 현황'}">[외주명] 진행 현황</h2>
	            </div>
	
	            <div class="SR_max-w-6xl SR_mx-auto SR_container-bg SR_p-8 SR_rounded-lg SR_box-shadow SR_mb-8">
	                <div class="SR_flex SR_flex-col SR_lg:flex-row SR_gap-8 SR_mb-8">
	                    <div class="SR_w-full SR_lg:w-1/3 SR_section-card SR_mb-0">
	                        <h3 class="SR_text-xl SR_font-semibold SR_text-gray-700 SR_mb-4">외주 신청/문의 내용</h3>
	                        <div class="SR_p-3 SR_bg-gray-50 SR_rounded-md SR_border SR_border-gray-200">
	                            <p class="SR_text-base SR_font-semibold SR_text-blue-700 SR_mb-2">
	                                <a href="#" class="SR_underline"
	                                   th:text="${EnterOsstDetail.osstDetailTitle}">신청제목</a>
	                            </p>
	                            <p class="SR_text-sm SR_text-gray-600">• 작성자:
	                            	<span class="SR_text-sm SR_text-gray-600"
	                            	   th:text="${EnterOsstDetail.osstDetailMemberName}"></span>
	                           	</p>
	                            <p class="SR_text-sm SR_text-gray-600">• 작성일자:
	                            	<span class="SR_text-sm SR_text-gray-600"
	                            	   th:text="${EnterOsstDetail.osstDetailDmndYmdt}"></span>
	                           	</p>
	                           	<p class="SR_text-sm SR_text-gray-600">• 희망작업기한:
	                            	<span class="SR_text-sm SR_text-gray-600"
	                            	   th:text="${EnterOsstDetail.osstDetailDedline}"></span>
	                           	</p>
	                           	<p class="SR_text-sm SR_text-gray-600">• 희망단가:
	                            	<span class="SR_text-sm SR_text-gray-600"
	                            	   th:text="${#numbers.formatInteger(EnterOsstDetail.osstDetailAmt, 0, 'COMMA')}"></span>
	                           	</p>
	                           	<!-- 내용이 길어지면 말줄임표로 표현되도록 수정 -->
	                           	<p class="SR_text-sm SR_text-gray-600 SR_flex SR_items-baseline">• 내용:
	                            	<span class="SR_text-sm SR_text-gray-600 SR_flex-1 SR_truncate"
	                            	   th:text="${EnterOsstDetail.osstDetailExpln}"></span>
	                           	</p>
	                        </div>
	                    </div>
	
	                    <div class="SR_w-full SR_lg:w-1/3 SR_section-card SR_mb-0">
	                        <h3 class="SR_text-xl SR_font-semibold SR_text-gray-700 SR_mb-4">최근 활동</h3>
	                        <div id="recent-activities-list" class="SR_scrollable-activity-list">
	                            <!-- Activities will be dynamically loaded here -->
	                        </div>
	                    </div>
	
	                    <div class="SR_w-full SR_lg:w-1/3 SR_section-card SR_mb-0">
                        <h3 class="SR_text-xl SR_font-semibold SR_text-gray-700 SR_mb-4">공급자 및 수요자</h3>
                        <div id="key-contacts-list">
                            <div class="SR_contact-card">
                                <div class="SR_contact-avatar">PM</div>
                                <div class="SR_contact-details">
                                    <div class="SR_contact-name" th:text="${EnterOsstDetail.osstDetailEntMbrName + '(공급자)'}">공급자 이름</div>
                                    <div class="SR_contact-role" th:text="${EnterOsstDetail.osstDetailEntName}">기업명</div>
                                    <a href="#" class="SR_contact-email">kim.cs@example.com</a>
                                </div>
                            </div>
                            <div class="SR_contact-card">
                                <div class="SR_contact-avatar">OD</div>
                                <div class="SR_contact-details">
                                    <div class="SR_contact-name" th:text="${EnterOsstDetail.osstDetailMemberName + '(수요자)'}">수요자 이름</div>
                                    <div class="SR_contact-role">수요자 닉머ㅜ뭐쓰지</div>
                                    <a href="#" class="SR_contact-email">lee.yh@example.com</a>
                                </div>
                            </div>
                        </div>
                    </div>
	                </div>
	
	                <div class="SR_mb-8 SR_text-center">
	                    <div class="SR_segmented-progress-container" id="segmented-progress-bar">
	                    </div>
	                    <p id="progress-percentage-text" class="SR_progress-percentage-text">20%</p>
	                    <p id="progress-status-message" class="SR_text-center SR_text-gray-600 SR_mt-2">초기 계약이 진행 중입니다.</p>
	                </div>
	            </div>
	
	            <div class="SR_max-w-6xl SR_mx-auto SR_container-bg SR_p-8 SR_rounded-lg SR_box-shadow">
	                <div class="SR_flex SR_flex-col SR_lg:flex-row SR_gap-8">
	                    <div class="SR_w-full SR_lg:w-1/3 SR_bg-gray-50 SR_p-6 SR_rounded-lg SR_box-shadow">
	                        <h3 class="SR_text-xl SR_font-semibold SR_text-gray-700 SR_mb-4">진행 단계</h3>
	                        <ul id="progress-steps" class="SR_progress-steps-list">
	                        </ul>
	                    </div>
	
	                    <div class="SR_w-full SR_lg:w-2\/3 SR_flex SR_flex-col SR_gap-8">
	                        <!-- progress-list: 각 단계의 보고서, 피드백, 결과물을 Thymeleaf로 렌더링 -->
	                        <div id="progress-list">
	                            <div th:each="step : ${progressSteps}" th:data-step-id="${step.id}" class="SR_bg-white SR_p-6 SR_rounded-lg SR_box-shadow SR_border SR_border-gray-200 SR_step-container">
	
	                                <!-- 단계 헤더 -->
	                                <div class="SR_mb-4">
	                                    <h3 class="SR_text-xl SR_font-semibold SR_text-gray-700" th:text="${step.stepName}">단계명</h3>
	                                    <span class="SR_text-sm SR_text-gray-500" th:text="${step.isCompleted ? '완료' : (step.isCurrentStep ? '진행 중' : '대기')}"></span>
	                                </div>
	
	                                <!-- 공급자 보고서 영역 -->
	                                <div class="SR_mb-6">
	                                    <h4 class="SR_text-lg SR_font-semibold SR_text-gray-700 SR_mb-2">공급자 보고서</h4>
	                                    <div th:if="${#lists.isEmpty(step.reports)}" class="SR_text-gray-600">제출된 보고서가 없습니다.</div>
	                                    <div th:each="report : ${step.reports}" class="SR_bg-blue-50 SR_p-3 SR_rounded-md SR_mb-2 SR_border SR_border-blue-200 SR_report-box">
	                                        <p><strong th:text="${report.title}">보고서 제목</strong></p>
	                                        <p th:text="${report.content}">내용</p>
	                                        <p th:if="${report.file}"><a th:href="@{/files/{file}(file=${report.file})}" target="_blank" class="SR_text-blue-600 SR_underline">첨부 파일</a></p>
	                                        <p class="SR_text-xs SR_text-gray-500" th:text="'작성일: ' + ${report.date}"></p>
	                                    </div>
	                                </div>
	
	                                <!-- 수요자 피드백 영역 -->
	                                <div class="SR_mb-6">
	                                    <h4 class="SR_text-lg SR_font-semibold SR_text-gray-700 SR_mb-2">수요자 피드백</h4>
	                                    <div th:if="${#lists.isEmpty(step.feedbacks)}" class="SR_text-gray-600">제출된 피드백이 없습니다.</div>
	                                    <div th:each="feedback : ${step.feedbacks}" class="SR_bg-green-50 SR_p-3 SR_rounded-md SR_mb-2 SR_border SR_border-green-200 SR_feedback-box">
	                                        <p><strong th:text="${feedback.title}">피드백 제목</strong></p>
	                                        <p th:text="${feedback.content}">피드백 내용</p>
	                                        <p th:if="${feedback.file}"><a th:href="@{/files/{file}(file=${feedback.file})}" target="_blank" class="SR_text-green-600 SR_underline">첨부 파일</a></p>
	                                        <p class="SR_text-xs SR_text-gray-500" th:text="'작성일: ' + ${feedback.date}"></p>
	                                    </div>
	                                </div>
	
	                                <!-- 최종 결과물 영역 -->
	                                <div class="SR_mb-6" th:if="${!#lists.isEmpty(step.finalResults)}">
	                                    <h4 class="SR_text-lg SR_font-semibold SR_text-gray-700 SR_mb-2">최종 결과물</h4>
	                                    <ul>
	                                        <li th:each="result : ${step.finalResults}" class="SR_bg-yellow-50 SR_p-3 SR_rounded-md SR_mb-2 SR_border SR_border-yellow-200">
	                                            <a th:href="@{/files/{file}(file=${result.file})}" target="_blank" th:text="${result.file}" class="SR_text-yellow-700 SR_underline">결과 파일</a>
	                                        </li>
	                                    </ul>
	                                </div>
	
	                                <!-- 버튼 영역 (진행 중인 단계만 노출) -->
	                                <div class="SR_flex SR_justify-end SR_gap-4 SR_mt-4" th:if="${step.isCurrentStep}">
	                                    <button type="button" class="SR_btn-primary" onclick="openModal('submitReportModal')">보고서 제출</button>
	                                    <button type="button" class="SR_btn-primary" onclick="openModal('giveFeedbackModal')">피드백 작성</button>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	               <div id="step-approval-button-container" class="SR_flex SR_justify-end SR_mt-4 mt-30">
	                   <button class="SR_btn-secondary" onclick="approveStep()">단계 승인</button>
	               </div>
	            </div>
	        </main>
	
	
	        <!-- Modals -->
	        <!-- Submit Report Modal -->
	        <div id="submitReportModal" class="SR_fixed SR_inset-0 SR_bg-gray-600 SR_bg-opacity-50 SR_flex SR_items-center SR_justify-center SR_hidden SR_z-50">
	            <div class="SR_bg-white SR_p-8 SR_rounded-lg SR_box-shadow SR_w-11\/12 SR_md\:w-1\/2 SR_lg\:w-1\/3">
	                <h3 class="SR_text-xl SR_font-bold SR_mb-4">결과물 제출</h3>
	                <input type="text" id="reportTitle" placeholder="보고서 제목을 입력하세요." class="SR_w-full SR_p-3 SR_border SR_rounded-md SR_mb-4">
	                <label for="feedbackCodeSelect" class="SR_block SR_text-sm SR_font-semibold SR_text-gray-700 SR_mb-2">관련 피드백 선택 (선택 사항):</label>
	                <select id="feedbackCodeSelect" class="SR_w-full SR_p-3 SR_border SR_rounded-md SR_mb-4">
	                    <option value="">피드백을 선택하세요</option>
	                    <!-- Options will be dynamically loaded here -->
	                </select>
	                <textarea id="reportContent" class="SR_w-full SR_p-3 SR_border SR_rounded-md SR_mb-4" rows="5" placeholder="보고서 내용을 입력하세요."></textarea>
	                <input type="file" id="reportFile" class="SR_mb-4">
	                <div class="SR_flex SR_justify-end SR_gap-4">
	                    <button class="SR_btn-secondary" onclick="closeModal('submitReportModal')">취소</button>
	                    <button class="SR_btn-primary ml-10" onclick="submitReport()">제출</button>
	                </div>
	            </div>
	        </div>
	
	        <!-- Give Feedback Modal -->
	        <div id="giveFeedbackModal" class="SR_fixed SR_inset-0 SR_bg-gray-600 SR_bg-opacity-50 SR_flex SR_items-center SR_justify-center SR_hidden SR_z-50">
	            <div class="SR_bg-white SR_p-8 SR_rounded-lg SR_box-shadow SR_w-11\/12 SR_md\:w-1\/2 SR_lg\:w-1\/3">
	                <h3 class="SR_text-xl SR_font-bold SR_mb-4">피드백 하기</h3>
	                <input type="text" id="feedbackTitle" placeholder="피드백 제목을 입력하세요." class="SR_w-full SR_p-3 SR_border SR_rounded-md SR_mb-4">
	                <label for="reportCodeSelect" class="SR_block SR_text-sm SR_font-semibold SR_text-gray-700 SR_mb-2">관련 보고서 선택 (선택 사항):</label>
	                <select id="reportCodeSelect" class="SR_w-full SR_p-3 SR_border SR_rounded-md SR_mb-4">
	                    <option value="">보고서를 선택하세요</option>
	                    <!-- Options will be dynamically loaded here -->
	                </select>
	                <textarea id="feedbackContent" class="SR_w-full SR_p-3 SR_border SR_rounded-md SR_mb-4" rows="5" placeholder="피드백 내용을 입력하세요."></textarea>
	                <input type="file" id="feedbackFile" class="SR_mb-4"> <!-- Added file input for feedback -->
	                <div class="SR_flex SR_justify-end SR_gap-4">
	                    <button class="SR_btn-secondary" onclick="closeModal('giveFeedbackModal')">취소</button>
	                    <button class="SR_btn-primary ml-10" onclick="submitFeedback()">피드백 제출</button>
	                </div>
	            </div>
	        </div>
	    </div>
		
		<!-- Templates for dynamic content (no longer used for rendering report/feedback lists directly) -->
		<template id="provider-report-item-template">
			<div class="SR_bg-blue-50 SR_p-3 SR_rounded-md SR_mb-2 SR_border SR_border-blue-200 SR_report-item">
				<strong class="report-title"></strong><br>
				<span class="report-related-feedback"></span>
				<span class="report-content"></span><br>
				<span class="report-file"></span>
				<span class="report-date"></span>
			</div>
		</template>
	
		<template id="requester-feedback-item-template">
			<div class="SR_bg-green-50 SR_p-3 SR_rounded-md SR_mb-2 SR_border SR_border-green-200 SR_feedback-item">
				<strong class="feedback-title"></strong><br>
				<span class="feedback-related-report"></span>
				<span class="feedback-content"></span><br>
				<span class="feedback-file"></span>
				<span class="feedback-date"></span>
			</div>
		</template>

    <th:block layout:fragment="jsScript">
	    <script>
	        // progressStepsData는 이제 왼쪽 진행 단계 목록 및 진행률 바를 위한 메타데이터로만 사용됩니다.
	        // 보고서, 피드백, 최종 결과물 데이터는 백엔드에서 Thymeleaf를 통해 직접 렌더링됩니다.
	        const progressStepsData = [
	            { id: 1, name: "계약 체결", status: "진행 중" },
	            { id: 2, name: "초기 기획", status: "예정" },
	            { id: 3, name: "작업 진행", status: "예정" },
	            { id: 4, name: "최종 완료", status: "예정" }
	        ];
	
	        const recentActivitiesData = [
	            { date: "2025-07-07", description: "프로젝트 시작 및 계약 체결" },
	            { date: "2025-07-06", description: "외주 담당자 배정 완료" },
	            { date: "2025-07-05", description: "프로젝트 초기 설정 완료" },
	            { date: "2025-07-04", description: "초기 미팅 준비" },
	            { date: "2025-07-03", description: "프로젝트 문서 검토" },
	            { date: "2025-07-02", description: "내부 팀 구성" },
	            { date: "2025-07-01", description: "외주 공고 게시" }
	        ];
	
	        let currentStep = 1; // 현재 활성화된 단계
	        let progressPercentage = 0; // 세그먼트 바 진행률
	        let activeContentStepId = 1; // 현재 오른쪽에 내용이 표시되는 단계 ID
	
	        document.addEventListener('DOMContentLoaded', () => {
	            renderRecentActivities();
	            renderProgressSteps();
	            updateProgressDisplay();
	            displayStepDetails(currentStep); // 초기 로드 시 현재 단계 내용 표시
	        });
	
	        function renderProgressSteps() {
	            const stepsContainer = document.getElementById('progress-steps');
	            stepsContainer.innerHTML = ''; // 기존 단계 초기화
	
	            progressStepsData.forEach(step => {
	                const li = document.createElement('li');
	                let stepClass = '';
	                if (step.id < currentStep) {
	                    stepClass = 'SR_completed-step';
	                } else if (step.id === currentStep) {
	                    stepClass = 'SR_current-step';
	                }
	                li.className = `${stepClass}`;
	                li.setAttribute('data-step-id', step.id);
	                li.onclick = () => displayStepDetails(step.id); // 클릭 시 해당 단계 내용 표시
	
	                li.innerHTML = `
	                    <div class="SR_step-icon">
	                        ${step.id}
	                    </div>
	                    <span class="SR_step-name">${step.name}</span>
	                    <span class="SR_step-status">${step.status}</span>
	                `;
	                stepsContainer.appendChild(li);
	            });
	        }
	
	        function activateStep(stepId) {
	            currentStep = stepId;
	            renderProgressSteps(); // 색상 업데이트를 위해 다시 렌더링
	            updateProgressDisplay();
	            displayStepDetails(stepId); // 다음 단계로 이동 시 해당 단계 내용 표시
	        }
	
	        function updateProgressDisplay() {
	            const segmentedProgressBar = document.getElementById('segmented-progress-bar');
	            const progressPercentageText = document.getElementById('progress-percentage-text');
	            const progressStatusMessage = document.getElementById('progress-status-message');
	
	            segmentedProgressBar.innerHTML = ''; // Clear existing segments
	
	            progressStepsData.forEach(step => {
	                const segment = document.createElement('div');
	                segment.classList.add('SR_progress-segment');
	                if (step.id < currentStep) {
	                    segment.classList.add('completed');
	                } else if (step.id === currentStep) {
	                    segment.classList.add('current');
	                }
	                segment.textContent = step.id; // Display step number in segment
	                segmentedProgressBar.appendChild(segment);
	            });
	
	            progressPercentage = (currentStep / progressStepsData.length) * 100;
	            progressPercentageText.textContent = `${Math.round(progressPercentage)}%`;
	
	            // 진행 상태 메시지 업데이트
	            const currentStepData = progressStepsData.find(step => step.id === currentStep);
	            if (currentStepData) {
	                progressStatusMessage.textContent = `${currentStepData.name} 단계 (${currentStepData.status})`;
	            }
	        }
	
	        // Function to display content for a specific step
	        function displayStepDetails(stepId) {
	            activeContentStepId = stepId; // Update the active content step ID
	            
	            // 모든 단계 컨테이너를 숨깁니다.
	            document.querySelectorAll('.SR_step-container').forEach(container => {
	                container.classList.add('SR_hidden');
	            });
	
	            // 선택된 단계에 해당하는 컨테이너만 표시합니다.
	            const selectedStepContainer = document.querySelector(`.SR_step-container[data-step-id="${stepId}"]`);
	            if (selectedStepContainer) {
	                selectedStepContainer.classList.remove('SR_hidden');
	            }
	
	            // 왼쪽 진행 단계 목록의 선택 상태를 업데이트합니다.
	            document.querySelectorAll('#progress-steps li').forEach(item => {
	                item.classList.remove('SR_selected-step');
	            });
	            document.querySelector(`#progress-steps li[data-step-id="${stepId}"]`).classList.add('SR_selected-step');
	
	            // 버튼 가시성은 이제 Thymeleaf의 step.isCurrentStep에 의해 제어됩니다.
	            // JavaScript에서는 모달을 여는 기능만 유지합니다.
	        }
	
	        // renderProviderResults, renderRequesterFeedback, renderFinalResults 함수는 이제 Thymeleaf가 렌더링하므로 제거됩니다.
	
	        function openModal(modalId) {
	            document.getElementById(modalId).classList.remove('SR_hidden');
	            if (modalId === 'submitReportModal') {
	                populateFeedbackCodeDropdown();
	            } else if (modalId === 'giveFeedbackModal') {
	                populateReportCodeDropdown();
	            }
	        }
	
	        function closeModal(modalId) {
	            document.getElementById(modalId).classList.add('SR_hidden');
	            // Clear modal inputs when closing
	            if (modalId === 'submitReportModal') {
	                document.getElementById('reportTitle').value = '';
	                document.getElementById('feedbackCodeSelect').value = '';
	                document.getElementById('reportContent').value = '';
	                document.getElementById('reportFile').value = '';
	            } else if (modalId === 'giveFeedbackModal') {
	                document.getElementById('feedbackTitle').value = '';
	                document.getElementById('reportCodeSelect').value = '';
	                document.getElementById('feedbackContent').value = '';
	                document.getElementById('feedbackFile').value = '';
	            }
	        }
	
	        function populateFeedbackCodeDropdown() {
	            const dropdown = document.getElementById('feedbackCodeSelect');
	            dropdown.innerHTML = '<option value="">피드백을 선택하세요</option>'; // Reset options
	
	            // 이 부분은 이제 백엔드에서 제공되는 실제 피드백 데이터를 기반으로 채워져야 합니다.
	            // 예시: Thymeleaf 모델에서 피드백 목록을 JavaScript 변수로 전달받아 사용
	            // const allFeedbacks = [[${allFeedbacksFromBackend}]]; // 예시
	            // if (allFeedbacks) {
	            //     allFeedbacks.forEach(feedback => {
	            //         const option = document.createElement('option');
	            //         option.value = feedback.id;
	            //         option.textContent = `피드백 [${feedback.id.substring(0, 8)}]: ${feedback.title}`;
	            //         dropdown.appendChild(option);
	            //     });
	            // }
	        }
	
	        function populateReportCodeDropdown() {
	            const dropdown = document.getElementById('reportCodeSelect');
	            dropdown.innerHTML = '<option value="">보고서를 선택하세요</option>'; // Reset options
	
	            // 이 부분은 이제 백엔드에서 제공되는 실제 보고서 데이터를 기반으로 채워져야 합니다.
	            // 예시: Thymeleaf 모델에서 보고서 목록을 JavaScript 변수로 전달받아 사용
	            // const allReports = [[${allReportsFromBackend}]]; // 예시
	            // if (allReports) {
	            //     allReports.forEach(report => {
	            //         const option = document.createElement('option');
	            //         option.value = report.id;
	            //         option.textContent = `보고서 [${report.id.substring(0, 8)}]: ${report.title}`;
	            //         dropdown.appendChild(option);
	            //     });
	            // }
	        }
	
	        function submitReport() {
	            // 보고서 제출 로직 (AJAX를 통해 백엔드로 데이터 전송 후 페이지 새로고침 또는 부분 업데이트 필요)
	            showMessageBox('보고서가 제출되었습니다. (실제 데이터 저장은 백엔드 구현 필요)');
	            closeModal('submitReportModal');
	            // addActivity(`새로운 보고서 제출: "${reportTitle}"`); // 실제 제출 후 백엔드에서 활동 내역 업데이트
	            // displayStepDetails(activeContentStepId); // 페이지 새로고침 또는 AJAX로 해당 섹션 업데이트
	        }
	
	        function submitFeedback() {
	            // 피드백 제출 로직 (AJAX를 통해 백엔드로 데이터 전송 후 페이지 새로고침 또는 부분 업데이트 필요)
	            showMessageBox('피드백이 제출되었습니다. (실제 데이터 저장은 백엔드 구현 필요)');
	            closeModal('giveFeedbackModal');
	            // addActivity(`새로운 피드백 제공: "${feedbackTitle}"`); // 실제 제출 후 백엔드에서 활동 내역 업데이트
	            // displayStepDetails(activeContentStepId); // 페이지 새로고침 또는 AJAX로 해당 섹션 업데이트
	        }
	
	        function approveStep() {
	            // 단계 승인 로직 (AJAX를 통해 백엔드로 상태 변경 요청 후 페이지 새로고침 또는 부분 업데이트 필요)
	            showMessageBox(`'현재 단계'가 승인되었습니다. (실제 단계 변경은 백엔드 구현 필요)`);
	            // activateStep(currentStep + 1); // 실제 승인 후 백엔드에서 다음 단계 활성화
	        }
	
	        // Custom Message Box functions (replaces alert())
	        function showMessageBox(message) {
	            let messageBox = document.getElementById('SR_messageBox');
	            if (!messageBox) {
	                messageBox = document.createElement('div');
	                messageBox.id = 'SR_messageBox';
	                messageBox.className = 'SR_fixed SR_inset-0 SR_bg-gray-600 SR_bg-opacity-50 SR_flex SR_items-center SR_justify-center SR_z-50';
	                messageBox.innerHTML = `
	                    <div class="SR_bg-white SR_p-6 SR_rounded-lg SR_shadow-lg SR_max-w-sm SR_w-full SR_text-center">
	                        <p class="SR_mb-4">${message}</p>
	                        <button class="SR_btn-primary" onclick="closeMessageBox()">확인</button>
	                    </div>
	                `;
	                document.body.appendChild(messageBox);
	            } else {
	                messageBox.querySelector('p').textContent = message;
	                messageBox.classList.remove('SR_hidden');
	            }
	        }
	
	        function closeMessageBox() {
	            const messageBox = document.getElementById('SR_messageBox');
	            if (messageBox) {
	                messageBox.classList.add('SR_hidden');
	            }
	        }
	
	        // New: Render Recent Activities
	        function renderRecentActivities() {
	            const activitiesListContainer = document.getElementById('recent-activities-list');
	            activitiesListContainer.innerHTML = '';
	            if (recentActivitiesData.length === 0) {
	                activitiesListContainer.innerHTML = `<p class="SR_text-gray-600">최근 활동 내역이 없습니다.</p>`;
	                return;
	            }
	            recentActivitiesData.forEach(activity => {
	                const activityItem = document.createElement('div');
	                activityItem.className = 'SR_activity-item';
	                activityItem.innerHTML = `
	                    <div class="SR_activity-icon">!</div>
	                    <div class="SR_activity-content">
	                        <div class="SR_activity-date">${activity.date}</div>
	                        <div class="SR_activity-description">${activity.description}</div>
	                    </div>
	                `;
	                activitiesListContainer.appendChild(activityItem);
	            });
	        }
	
	        // New: Add Activity to Recent Activities
	        function addActivity(description) {
	            const today = new Date().toISOString().slice(0, 10);
	            recentActivitiesData.unshift({ date: today, description: description }); // 최신 활동을 맨 앞에 추가
	            renderRecentActivities();
	        }
	    </script>
	</th:block>
</body>
</html>
