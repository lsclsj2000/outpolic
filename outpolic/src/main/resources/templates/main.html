<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{user/layout/userLayoutMain}">
<head>
	<meta charset="utf-8" />
	<title>Nest - Multipurpose eCommerce HTML Template</title>
	<meta name="description" content="" />
</head>
<style>
	.review-slider-active {
		max-width: 1300px;
		margin: 0 auto;
		padding: 0 20px;
	}
	
	.single-comment {
		padding: 20px;
		border: 1px solid #e0e0e0;
		border-radius: 10px;
		background-color: #f9f9f9;
		box-sizing: border-box;
	}
	
	
</style>

<th:block layout:fragment="contents">
	<main class="main">
		<!-- 메인화면 사진 영역. 수정 필요.  -->
		<section class="hero-3 position-relative align-items">
			<h2 class="mb-30 text-center">What are you looking for?</h2>
			<form class="form-subcriber d-flex mb-30 text-center">
				<input type="email" placeholder="Your emaill address" tabindex="-1" />
				<button class="btn" type="submit" tabindex="-1">Subscribe</button>
			</form>
			<ul class="list-inline nav nav-tabs links font-xs text-center">
				<li class="list-inline-item nav-item"><a
					class="nav-link font-xs" href="#">수정해야해요</a></li>
				<li class="list-inline-item nav-item"><a
					class="nav-link font-xs" href="#">사진만 넣을지</a></li>
				<li class="list-inline-item nav-item"><a
					class="nav-link font-xs" href="#">회사정보를 포함한 내용 및 사진</a></li>
				<li class="list-inline-item nav-item"><a
					class="nav-link font-xs" href="#">을 넣을지. 아무튼 수정해야해요</a></li>
			</ul>
		</section>
		<!--End hero-->
		
		<div class="container mb-30">
			<div class="row d-flex justify-content-center">
				<div class="col-lg-4-5">
					<section class="popular-categories section-padding">
						<div class="section-title">
							<div class="title">
								<h3>카테고리</h3>
								<!-- 모든 카테고리를 삭제할지는 선택하시면 됩니다. -->
								<a class="show-all" href="#"> 모든 카테고리 <i
									class="fi-rs-angle-right"></i>
								</a>
							</div>
							<div
								class="slider-arrow slider-arrow-2 flex-right carausel-8-columns-arrow"
								id="carausel-8-columns-arrows"></div>
						</div>
						<div class="carausel-8-columns-cover position-relative">
							<div class="carausel-8-columns" id="carausel-8-columns"
								th:if="${!mainCategories.isEmpty()}">
								<div class="card-1" th:each="cat : ${mainCategories}">
									<figure class="img-hover-scale overflow-hidden">
										<a th:href="@{/user/products(category=${cat.categoryId})}">
											<!-- th:switch를 사용하여 cat.categoryName 값에 따라 분기합니다. --> <th:block
												th:switch="${cat.categoryName}">
												<!-- case 1: 카테고리 이름이 '디자인'일 경우 -->
												<img th:case="'디자인'"
													src="/user/assets/imgs/icon/graphic-designer.png"
													th:alt="${cat.categoryName}" />
		
												<!-- case 2: 카테고리 이름이 'IT·프로그래밍'일 경우 -->
												<img th:case="'IT·프로그래밍'"
													src="/user/assets/imgs/icon/technical-support.png"
													th:alt="${cat.categoryName}" />
		
												<!-- case 3: 카테고리 이름이 '영상·사진·음향'일 경우 -->
												<img th:case="'영상·사진·음향'"
													src="/user/assets/imgs/icon/picture.png"
													th:alt="${cat.categoryName}" />
												<!-- case 4: 카테고리 이름이 '마케팅'일 경우 -->
												<img th:case="'마케팅'"
													src="/user/assets/imgs/icon/social-media.png"
													th:alt="${cat.categoryName}" />
												<!-- case 5: 카테고리 이름이 '번역·통역'일 경우 -->
												<img th:case="'번역·통역'"
													src="/user/assets/imgs/icon/translate.png"
													th:alt="${cat.categoryName}" />
												<!-- case 6: 카테고리 이름이 '문서·글쓰기'일 경우 -->
												<img th:case="'문서·글쓰기'"
													src="/user/assets/imgs/icon/documentation.png"
													th:alt="${cat.categoryName}" />
												<!-- case 7: 카테고리 이름이 '창업·사업'일 경우 -->
												<img th:case="'창업·사업'"
													src="/user/assets/imgs/icon/business.png"
													th:alt="${cat.categoryName}" />
												<!-- case 8: 카테고리 이름이 '주문제작'일 경우 -->
												<img th:case="'주문제작'"
													src="/user/assets/imgs/icon/color-selection.png"
													th:alt="${cat.categoryName}" />
												<!-- case 9: 카테고리 이름이 '세무·법무·노무'일 경우 -->
												<img th:case="'세무·법무·노무'"
													src="/user/assets/imgs/icon/law-scale.png"
													th:alt="${cat.categoryName}" />
		
											</th:block>
										</a>
									</figure>
									<h6>
										<a th:href="@{/user/products(category=${cat.categoryId})}"
											th:text="${cat.categoryName}">카테고리명</a>
									</h6>
								</div>
							</div>
						</div>
					</section>
					
					<!-- 외주 랭킹 시작 -->
					<section class="section-padding">
						<!-- 섹션 제목 부분 -->
				        <div class="section-title style-2 wow animate__animated animate__fadeIn">
				            <h3>인기있는 외주</h3>
				            <ul class="nav nav-tabs links" style="font-size: 14px;">
								<li class="nav-item" role="presentation">
									<button class="nav-link active" id="portfolio-nav-tab-one"
										data-bs-toggle="tab" data-bs-target="#portfolio-tab-one"
										type="button" role="tab" aria-controls="portfolio-tab-one"
										aria-selected="true">전체보기</button>
								</li>
								<li class="nav-item" role="presentation">
									<button class="nav-link" id="portfolio-nav-tab-two"
										data-bs-toggle="tab" data-bs-target="#portfolio-tab-two"
										type="button" role="tab" aria-controls="portfolio-tab-two"
										aria-selected="false">가장 최신순</button>
								</li>
								<li class="nav-item" role="presentation">
									<button class="nav-link" id="portfolio-nav-tab-three"
										data-bs-toggle="tab" data-bs-target="#portfolio-tab-three"
										type="button" role="tab" aria-controls="portfolio-tab-three"
										aria-selected="false">가장 오래된순</button>
								</li>
				            </ul>
				        </div>
				        
				     
				        <div th:if="${not #lists.isEmpty(findOSList)}" class="popular-outsourcing-slider wow animate__animated animate__fadeIn">
				            
				            <!-- ▼▼▼ th:each로 popularList 데이터를 반복하여 아이템 카드를 생성합니다 ▼▼▼ -->
				            <div th:each="content : ${findOSList}" class="slider-item">
				            
				                <!-- 개별 아이템 카드 (이전에 만들었던 카드 구조를 재활용) -->
				                <div class="product-cart-wrap mb-30 position-relative">
				                    
				                    <!-- 이미지 영역 -->
				                    <div class="product-img-action-wrap">
				                        <div class="product-img product-img-zoom">
				                            <!-- stretched-link와 함께 사용할 a 태그는 비워둡니다 -->
				                            <a href="javascript:void(0);">
				                                <!-- 썸네일 이미지가 있다면 DTO에 추가해서 사용하세요 -->
				                                <img class="default-img" th:src="@{/imgs/placeholder.png}" alt="콘텐츠 이미지" />
				                            </a>
				                        </div>
				                        <!-- PRIME, 품질보증 등 뱃지 (데이터가 있을 경우 표시) -->
				                        <div class="product-badges product-badges-position product-badges-mrg">
				                           <span class="hot" th:if="${#strings.contains(content.osTtl, 'PRIME')}">PRIME</span>
				                           <span class="sale" th:if="${#strings.contains(content.osTtl, '보증')}">품질보증</span>
				                        </div>
				                    </div>
				                    
				                    <!-- 콘텐츠 내용 영역 -->
				                    <div class="product-content-wrap" style="padding: 15px;">
				                        <!-- 카테고리 + 기업명 -->
				                        <div class="product-category">
				                            <a th:text="${content.ctgryName} + ' | ' + ${content.entName}" href="#">카테고리 | 기업명</a>
				                        </div>
				                        <!-- 제목 (h2 안에 stretched-link를 가진 a 태그) -->
				                        <h2>
				                            <a th:href="@{/user/contents/{id}(id=${content.osCode})}" 
				                               th:text="${content.osTtl}"
				                               class="stretched-link">콘텐츠 제목</a>
				                        </h2>
				                        <!-- 별점 -->
				                        <div class="product-rate-cover">
				                           <div class="product-rate d-inline-block">
				                              <!-- 예: 평점이 3.5점이면 70% 채워짐 -->
				                              <div class="product-rating" th:style="'width:' + (${content.reviewScore} * 20) + '%'"></div>
				                           </div>
				                           <span class="font-small ml-5 text-muted" th:text="' (' + ${#numbers.formatDecimal(content.reviewScore, 1, 1)} + ')'"> (4.5)</span>
				                        </div>
				                        <!-- 가격 (가격 정보가 DTO에 있다면 추가) -->
				                        <div class="product-price">
				                           <span th:text="${content.osAtm}">가격 정보~</span>
				                        </div>
				                    </div>
				                </div> <!-- product-cart-wrap 끝 -->
				                
				            </div> <!-- th:each 루프 끝 -->
				        </div> <!-- popular-outsourcing-slider 끝 -->
				
				        <!-- 데이터가 없을 경우 표시할 메시지 -->
				        <div th:if="${#lists.isEmpty(findOSList)}" class="text-center py-5">
				            <p>표시할 인기 콘텐츠가 없습니다.</p>
				        </div>
					</section>
					<!-- 외주 랭킹 끝 -->
					<!--Products Tabs-->
				</div>
			</div>
		</div>
		<!-- 인기있는 포트폴리오 영역 시작 -->
		<div class="container mb-30">
			<div class="row d-flex justify-content-center">
				<div class="col-lg-4-5">
					<section class="product-tabs section-padding position-relative">
						<div class="section-title style-2">
							<h3>인기있는 포트폴리오</h3>
							<ul class="nav nav-tabs links" id="portfolioTab" role="tablist">
								<li class="nav-item" role="presentation">
									<button class="nav-link active" id="portfolio-nav-tab-one"
										data-bs-toggle="tab" data-bs-target="#portfolio-tab-one"
										type="button" role="tab" aria-controls="portfolio-tab-one"
										aria-selected="true">전체보기</button>
								</li>
								<li class="nav-item" role="presentation">
									<button class="nav-link" id="portfolio-nav-tab-two"
										data-bs-toggle="tab" data-bs-target="#portfolio-tab-two"
										type="button" role="tab" aria-controls="portfolio-tab-two"
										aria-selected="false">가장 최신순</button>
								</li>
								<li class="nav-item" role="presentation">
									<button class="nav-link" id="portfolio-nav-tab-three"
										data-bs-toggle="tab" data-bs-target="#portfolio-tab-three"
										type="button" role="tab" aria-controls="portfolio-tab-three"
										aria-selected="false">가장 오래된순</button>
								</li>
							</ul>
						</div>
						<!--End nav-tabs-->
						<!-- 인기있는 포트폴리오 컨텐츠 시작 -->
						<!-- tab-one = 전체보기 / tab-two = 가장 최신순 / tab-three = 가장 오래된순 -->
						<div class="tab-content" id="portfolioTabContent">
							<div class="tab-pane fade show active" id="portfolio-tab-one"
								role="tabpanel" aria-labelledby="portfolio-nav-tab-one">
								<div class="row product-grid-4">
									<!--end product card-->
									<div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
										<div class="product-cart-wrap">
											<div class="product-img-action-wrap">
												<div class="product-img product-img-zoom">
													<a href="#"> <img class="default-img"
														src="user/assets/imgs/shop/product-5-1.jpg" alt="" />
													</a>
												</div>
											</div>
											<div class="product-content-wrap">
												<div class="product-category">
													<!-- 외주 카테고리 -->
													<a href="#">카테고리 입니다</a>
												</div>
												<!-- 외주글 제목 -->
												<h2>
													<a href="#" class="portfolio-title">포트폴리오 제목 입니다 테테스스트트</a>
												</h2>
												<div>
													<!-- 회사 이름이 들어가면 됩니다. 앵커(a)태그는 빼도 무방 -->
													<span class="font-small text-muted"><a href="#">회사
															이름입니다</a></span>
												</div>
											</div>
										</div>
									</div>
									<!--end product card-->
								</div>
								<!--End product-grid-4-->
							</div>
							<!--En tab one-->
							<div class="tab-pane fade" id="portfolio-tab-two" role="tabpanel"
								aria-labelledby="portfolio-nav-tab-two">
								<div class="row product-grid-4">
									<!--end product card-->
									<div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
										<div class="product-cart-wrap">
											<div class="product-img-action-wrap">
												<div class="product-img product-img-zoom">
													<a href="#"> <img class="default-img"
														src="user/assets/imgs/shop/product-5-1.jpg" alt="" />
													</a>
												</div>
											</div>
											<div class="product-content-wrap">
												<div class="product-category">
													<!-- 외주 카테고리 -->
													<a href="#">카테고리 입니다</a>
												</div>
												<!-- 외주글 제목 -->
												<h2>
													<a href="#" class="portfolio-title">포트폴리오 제목 입니다</a>
												</h2>
												<div>
													<!-- 회사 이름이 들어가면 됩니다. 앵커(a)태그는 빼도 무방 -->
													<span class="font-small text-muted"><a href="#">회사
															이름입니다</a></span>
												</div>
											</div>
										</div>
									</div>
									<!--end product card-->
								</div>
								<!--End product-grid-4-->
							</div>
							<!--En tab two-->
							<div class="tab-pane fade" id="portfolio-tab-three"
								role="tabpanel" aria-labelledby="portfolio-nav-tab-three">
								<div class="row product-grid-4">
									<!--end product card-->
									<div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
										<div class="product-cart-wrap">
											<div class="product-img-action-wrap">
												<div class="product-img product-img-zoom">
													<a href="#"> <img class="default-img"
														src="user/assets/imgs/shop/product-5-1.jpg" alt="" />
													</a>
												</div>
											</div>
											<div class="product-content-wrap">
												<div class="product-category">
													<!-- 외주 카테고리 -->
													<a href="#">카테고리 입니다</a>
												</div>
												<!-- 외주글 제목 -->
												<h2>
													<a href="#" class="portfolio-title">포트폴리오 제목 입니다</a>
												</h2>
												<div>
													<!-- 회사 이름이 들어가면 됩니다. 앵커(a)태그는 빼도 무방 -->
													<span class="font-small text-muted"><a href="#">회사
															이름입니다</a></span>
												</div>
											</div>
										</div>
									</div>
									<!--end product card-->
								</div>
								<!--End product-grid-4-->
							</div>
							<!--En tab three-->
						</div>
						<!--End tab-content-->
					</section>
					<!--Products Tabs-->
				</div>
			</div>
		</div>
		<!-- 인기있는 포트폴리오 영역 끝 -->
		<!-- 리뷰 영역 시작 -->
		<div class="comments-area">
			<div class="container" id="review-area" style="width: 1300px;">
				<h3 class="mb-30">최근에 작성된 리뷰</h3>
				<div class="review-slider-active">
					<!-- 리뷰 항목 1 -->
					<div class="single-comment justify-content-between d-flex">
						<div class="user justify-content-between d-flex">
							<div class="thumb text-center">
								<img src="user/assets/imgs/blog/author-2.png" alt="리뷰어 이미지" />
								<a href="#" class="font-heading text-brand">Sienna</a>
							</div>
							<div class="desc">
								<div class="d-flex justify-content-between mb-10">
									<span class="font-xs text-muted">2025년 7월 8일 11:12</span>
									<div class="product-rate d-inline-block">
										<div class="product-rating" style="width: 80%"></div>
									</div>
								</div>
								<p class="mb-10">테스트 리뷰입니다. 여기에 리뷰 내용이 들어갑니다.</p>
							</div>
						</div>
					</div>
					<!-- 리뷰 항목 2 -->
					<div class="single-comment justify-content-between d-flex">
						<div class="user justify-content-between d-flex">
							<div class="thumb text-center">
								<img src="user/assets/imgs/blog/author-2.png" alt="리뷰어 이미지" />
								<a href="#" class="font-heading text-brand">Sienna</a>
							</div>
							<div class="desc">
								<div class="d-flex justify-content-between mb-10">
									<span class="font-xs text-muted">2025년 7월 8일 11:12</span>
									<div class="product-rate d-inline-block">
										<div class="product-rating" style="width: 80%"></div>
									</div>
								</div>
								<p class="mb-10">테스트 리뷰입니다. 여기에 리뷰 내용이 들어갑니다. 테스트입니다.</p>
							</div>
						</div>
					</div>
					<!-- 리뷰 항목 3 -->
					<div class="single-comment justify-content-between d-flex">
						<div class="user justify-content-between d-flex">
							<div class="thumb text-center">
								<img src="user/assets/imgs/blog/author-2.png" alt="리뷰어 이미지" />
								<a href="#" class="font-heading text-brand">Sienna</a>
							</div>
							<div class="desc">
								<div class="d-flex justify-content-between mb-10">
									<span class="font-xs text-muted">2025년 7월 8일 11:12</span>
									<div class="product-rate d-inline-block">
										<div class="product-rating" style="width: 80%"></div>
									</div>
								</div>
								<p class="mb-10">테스트 리뷰입니다. 여기에 리뷰 내용이 들어갑니다.</p>
							</div>
						</div>
					</div>
					<!-- 리뷰 항목 4 -->
					<div class="single-comment justify-content-between d-flex">
						<div class="user justify-content-between d-flex">
							<div class="thumb text-center">
								<img src="user/assets/imgs/blog/author-2.png" alt="리뷰어 이미지" />
								<a href="#" class="font-heading text-brand">Sienna</a>
							</div>
							<div class="desc">
								<div class="d-flex justify-content-between mb-10">
									<span class="font-xs text-muted">2025년 7월 8일 11:12</span>
									<div class="product-rate d-inline-block">
										<div class="product-rating" style="width: 80%"></div>
									</div>
								</div>
								<p class="mb-10">테스트 리뷰입니다. 여기에 리뷰 내용이 들어갑니다.</p>
							</div>
						</div>
					</div>
					<!-- 리뷰 항목 5 -->
					<div class="single-comment justify-content-between d-flex">
						<div class="user justify-content-between d-flex">
							<div class="thumb text-center">
								<img src="user/assets/imgs/blog/author-2.png" alt="리뷰어 이미지" />
								<a href="#" class="font-heading text-brand">Sienna</a>
							</div>
							<div class="desc">
								<div class="d-flex justify-content-between mb-10">
									<span class="font-xs text-muted">2025년 7월 8일 11:12</span>
									<div class="product-rate d-inline-block">
										<div class="product-rating" style="width: 80%"></div>
									</div>
								</div>
								<p class="mb-10">테스트 리뷰입니다. 여기에 리뷰 내용이 들어갑니다.</p>
							</div>
						</div>
					</div>
				</div>
				<div
					class="slider-arrow slider-arrow-2 flex-right review-slider-arrows"
					id="review-slider-arrows"></div>
			</div>
		</div>
		<!-- 리뷰 영역 끝 -->
		<!--End category slider-->
	</main>
	<script>
		// DOMContentLoaded 이벤트 리스너를 사용하여 문서를 먼저 읽고 스크립트 실행한다
		document.addEventListener('DOMContentLoaded', function() {
	
		    // portfolio-title(포트폴리오 제목) 요소를 선택한다
		    const portfolioTitles = document.querySelectorAll('.portfolio-title');
		 	// outsourcing-title(외주 제목) 요소를 선택한다
		    const outsourcingTitles = document.querySelectorAll('.outsourcing-title');
		 	
		    const maxLength = 12; // 제목을 자를 최대 길이를 설정한다
	
		    // 각 제목 요소에 대해 반복한다
		    portfolioTitles.forEach(titleElement => {
		        let originalText = titleElement.textContent; // 요소의 원본 텍스트를 가져온다
	
		        // 텍스트 길이가 maxLength를 초과하는지 확인한다
		        if (originalText.length > maxLength) {
		            // 텍스트를 자르고 말줄임표를 추가한다
		            let truncatedText = originalText.substring(0, maxLength) + '...';
		            titleElement.textContent = truncatedText; // 잘린 텍스트로 업데이트한다
		        }
		    });
		    
		 	// 외주 제목에 대해 반복하며 길이를 확인하고 자른다
	        outsourcingTitles.forEach(titleElement => {
	            let originalText = titleElement.textContent; // 요소의 원본 텍스트를 가져온다
	
	            // 텍스트 길이가 maxLength를 초과하는지 확인한다
	            if (originalText.length > maxLength) {
	                // 텍스트를 자르고 말줄임표를 추가한다
	                let truncatedText = originalText.substring(0, maxLength) + '...';
	                titleElement.textContent = truncatedText; // 잘린 텍스트로 업데이트한다
	            }
	        });
		});
		
		document.addEventListener('DOMContentLoaded', function () {
			$('.review-slider-active').slick({
				infinite: true,
				slidesToShow: 3, // 한 번에 보이는 리뷰 수
				slidesToScroll: 1,
				autoplay: true,
				autoplaySpeed: 1500,
				arrows: true,
				dots: false,
				responsive: [
					{
						breakpoint: 768,
						settings: {
							slidesToShow: 1
						}
					}
				]
			});
		});
	</script>
	<!-- jQuery + Slick 라이브러리 추가 -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
		
</th:block>
</html>